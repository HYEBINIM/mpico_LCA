<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EAST</title>
    <link rel="stylesheet" href="/css/index.css">
    <!-- favicon -->
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
    <!-- 캐시 -->
    <!-- <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="0"> -->
    <!-- Load c3.css -->
    <link href="/chart/c3/c3.css" rel="stylesheet">

    <!-- Load d3.js and c3.js -->
    <script src="/chart/d3/d3.v5.min.js" charset="utf-8"></script>
    <script src="/chart/c3/c3.min.js"></script>

    <!-- JQUERY -->
    <script type="text/javascript" src="//code.jquery.com/jquery.min.js"></script>

    <!--Load the AJAX API-->
    <!-- <script type="text/javascript" src="https://www.google.com/jsapi"></script> -->
</head>

<body>
    <!-- 전체 판넬 -->
    <div class="wrapper">

        <!-- 상단바 -->
        <div class="top_bar">
            <div class="logo">
                <a class='logo_item' href="/index.html">EAST</a>
            </div>
            <div class="menu">
                <a class='menu_item active' href="/index.html">대시보드</a>
                <a class='menu_item' href="/alldata1.php">F/P 데이터</a>
                <a class='menu_item' href="/alldata2.php">개별 데이터</a>
                <a class='menu_item' href="/alldata3.php">AI 파라미터</a>
                <a class='menu_item' href="/page/set1.html">실시간검사화면</a>
                <a class='menu_item' href="/page/set2.html">검사이력</a>
                <a class='menu_item' href="/page/set4.html">사출기화면</a>
                <a class='menu_item' href="/page/set4.html">로봇화면</a>
                <a class='menu_item' href="/page/set3.html">풀프루프화면</a>
                <a class='menu_item' href="/page/set3.html">풀프루프설정</a>
            </div>
        </div>
        <!-- /상단바 -->

        <!-- 화면 -->
        <div class="panel">
            <!-- 검사 -->
            <div class="ins box">
                <div class='title'>최근 검사</div>
                <div class="ins_body">
                    <img id='data153'>
                    <div class="ins_info">
                        <div class="ins_info_item">
                            <p>검사날짜</p>
                            <div class='data_bold' id='data1'></div>
                        </div>
                        <div class="ins_info_item">
                            <p>검사시각</p>
                            <div class='data_bold' id='data2'></div>
                        </div>
                        <div class="ins_info_item">
                            <p>제품명</p>
                            <div class='data_bold' id='data3'></div>
                        </div>
                        <div class="ins_info_item">
                            <p>합격여부</p>
                            <div class='data_bold' id='data4'></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /검사 -->

            <!-- 풀프루프 -->
            <div class="fp box">
                <div class='title'>풀프루프</div>
                <div class="fp_body">
                    <div class="fp1">
                        <div class="fp_box">
                            <div class="box1">
                                <div class="box_title">금형1</div>
                                <div class='status'>
                                    <div class="circle circle1"></div>
                                </div>
                                <div class="temp_box">
                                    <div class="temp" id='data48'></div>
                                </div>
                            </div>
                            <div class='chart'>
                                <div id="chart1"></div>
                            </div>
                        </div>
                        <div class="fp_box">
                            <div class="box1">
                                <div class="box_title">금형2</div>
                                <div class='status'>
                                    <div class="circle circle2"></div>
                                </div>
                                <div class="temp_box">
                                    <div class="temp" id='data49'></div>
                                </div>
                            </div>
                            <div class='chart'>
                                <div id="chart2"></div>
                            </div>
                        </div>
                        <div class="fp_box">
                            <div class="box1">
                                <div class="box_title">냉각IN</div>
                                <div class='status'>
                                    <div class="circle circle3"></div>
                                </div>
                                <div class="temp_box">
                                    <div class="temp" id='data50'></div>
                                </div>
                            </div>
                            <div class='chart'>
                                <div id="chart3"></div>
                            </div>
                        </div>
                        <div class="fp_box padding_top">
                            <div class="box1">
                                <div class="box_title">냉각OUT</div>
                                <div class='status'>
                                    <div class="circle circle4"></div>
                                </div>
                                <div class="temp_box">
                                    <div class="temp" id='data51'></div>
                                </div>
                            </div>
                            <div class='chart'>
                                <div id="chart4"></div>
                            </div>
                        </div>
                    </div>
                    <div class="fp2">
                        <div class="fp_box padding_top">
                            <div class="box1">
                                <div class="box_title">온수IN</div>
                                <div class='status'>
                                    <div class="circle circle5"></div>
                                </div>
                                <div class="temp_box">
                                    <div class="temp" id='data52'></div>
                                </div>
                            </div>
                            <div class='chart'>
                                <div id="chart5"></div>
                            </div>
                        </div>
                        <div class="fp_box padding_top">
                            <div class="box1">
                                <div class="box_title">온수OUT</div>
                                <div class='status'>
                                    <div class="circle circle6"></div>
                                </div>
                                <div class="temp_box">
                                    <div class="temp" id='data53'></div>
                                </div>
                            </div>
                            <div class='chart'>
                                <div id="chart6"></div>
                            </div>
                        </div>
                        <div class="fp_box padding_top">
                            <div class="box1">
                                <div class="box_title">벨트중간</div>
                                <div class='status'>
                                    <div class="circle circle7"></div>
                                </div>
                                <div class="temp_box">
                                    <div class="temp" id='data54'></div>
                                </div>
                            </div>
                            <div class='chart'>
                                <div id="chart7"></div>
                            </div>
                        </div>
                        <div class="fp_box padding_top">
                            <div class="box1">
                                <div class="box_title">벨트끝</div>
                                <div class='status'>
                                    <div class="circle circle8"></div>
                                </div>
                                <div class="temp_box">
                                    <div class="temp" id='data55'></div>
                                </div>
                            </div>
                            <div class='chart'>
                                <div id="chart8"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /풀프루프 -->

            <!-- 검사이력 -->
            <div class="history box">
                <div class='title'>검사 이력</div>
                <div class="history_body">
                    <div class="history_info">
                        <div class='history_info_item'>
                            <p>날짜</p>
                            <div class='data_bold'><?php echo date('Y-m-d'); ?></div>
                        </div>
                        <div class='history_info_item'>
                            <p>오늘 생산수량</p>
                            <div class='data_bold' id='data45'></div>
                        </div>
                    </div>
                    <div class="history_info">
                        <div class='history_info_item'>
                            <p>오늘의 양품</p>
                            <div class='data_bold' id='data46'></div>
                        </div>
                        <div class='history_info_item'>
                            <p>오늘의 불량</p>
                            <div class='data_bold' id='data47'></div>
                        </div>
                    </div>
                    <div class="history_box">
                        <div class="history_th">
                            <div>날짜</div>
                            <div>시간</div>
                            <div>합격여부</div>
                            <div>검사CT</div>
                        </div>
                        <?php
                        for ($count = 5; $count <= 44; $count++) {
                            echo "
                                <div class='history_td'>
                                <div class='data_table' id='data" . $count . "' alt='준비중'></div>
                                ";
                            $count++;
                            echo "
                            <div class='data_table' id='data" . $count . "'></div>
                            ";
                            $count++;
                            echo "
                                <div class='data_table' id='data" . $count . "'></div>
                                ";
                            $count++;
                            echo "
                                <div class='data_table' id='data" . $count . "'></div>
                                </div>
                                ";
                        }
                        ?>
                    </div>
                </div>
            </div>
            <!-- /검사이력 -->

            <!-- 사출기 -->
            <div class="mc box">
                <div class="mc_top">
                    <div class="title2">사출기</div>
                    <div class='mc_item1'>
                        <div class="amount">전체 수량</div>
                        <div class="amount_text" id='data56'></div>
                    </div>
                </div>
                <div class="mc_body">
                    <!-- 기본 -->
                    <div class="row">
                        <div class='mc_title'>
                            <p>사출 속도</p>
                        </div>
                        <div class='mc_item'>
                            <div class="mc_item_text" id='data57'></div>
                            <div class="mc_item_text" id='data58'></div>
                            <div class="mc_item_text" id='data59'></div>
                            <div class="mc_item_text" id='data60'></div>
                            <div class="mc_item_text" id='data61'></div>
                            <div class="mc_item_text" id='data62'></div>
                            <div class="mc_item_text" id='data63'></div>
                            <div class="mc_item_text" id='data64'></div>
                            <div class="mc_item_text" id='data65'></div>
                            <div class="mc_item_text" id='data66'></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class='mc_title'>
                            <p>사출 압력</p>
                        </div>
                        <div class='mc_item'>
                            <div class="mc_item_text" id='data67'></div>
                            <div class="mc_item_text" id='data68'></div>
                            <div class="mc_item_text" id='data69'></div>
                            <div class="mc_item_text" id='data70'></div>
                            <div class="mc_item_text" id='data71'></div>
                            <div class="mc_item_text" id='data72'></div>
                            <div class="mc_item_text" id='data73'></div>
                            <div class="mc_item_text" id='data74'></div>
                            <div class="mc_item_text" id='data75'></div>
                            <div class="mc_item_text" id='data76'></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class='mc_title'>
                            <p>사출 위치</p>
                        </div>
                        <div class='mc_item'>
                            <div class="mc_item_text" id='data77'></div>
                            <div class="mc_item_text" id='data78'></div>
                            <div class="mc_item_text" id='data79'></div>
                            <div class="mc_item_text" id='data80'></div>
                            <div class="mc_item_text" id='data81'></div>
                            <div class="mc_item_text" id='data82'></div>
                            <div class="mc_item_text" id='data83'></div>
                            <div class="mc_item_text" id='data84'></div>
                            <div class="mc_item_text" id='data85'></div>
                            <div class="mc_item_text" id='data86'></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class='mc_title'>
                            <p>배럴 온도</p>
                        </div>
                        <div class='mc_item'>
                            <div class="mc_item_text" id='data87'></div>
                            <div class="mc_item_text" id='data88'></div>
                            <div class="mc_item_text" id='data89'></div>
                            <div class="mc_item_text" id='data90'></div>
                            <div class="mc_item_text" id='data91'></div>
                            <div class="mc_item_text" id='data92'></div>
                            <div class="mc_item_text" id='data93'></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class='mc_title'>
                            <p>금형 온도</p>
                        </div>
                        <div class='mc_item'>
                            <div class="mc_item_text" id='data94'></div>
                            <div class="mc_item_text" id='data95'></div>
                            <div class="mc_item_text" id='data96'></div>
                            <div class="mc_item_text" id='data97'></div>
                            <div class="mc_item_text" id='data98'></div>
                            <div class="mc_item_text" id='data99'></div>
                            <div class="mc_item_text" id='data100'></div>
                            <div class="mc_item_text" id='data101'></div>
                            <div class="mc_item_text" id='data102'></div>
                            <div class="mc_item_text" id='data103'></div>
                            <div class="mc_item_text" id='data104'></div>
                            <div class="mc_item_text" id='data105'></div>
                        </div>
                    </div>
                    <div class="row2">
                        <div class='mc_title'>
                            <p>유지 압력</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data106'></div>
                            <div class="mc_item_text2" id='data107'></div>
                            <div class="mc_item_text2" id='data108'></div>
                            <div class="mc_item_text2" id='data109'></div>
                            <div class="mc_item_text2" id='data110'></div>
                        </div>
                        <div class='mc_title'>
                            <p>사출 시간</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data139'></div>
                        </div>
                    </div>
                    <div class="row2">
                        <div class='mc_title'>
                            <p>유지 시간</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data111'></div>
                            <div class="mc_item_text2" id='data112'></div>
                            <div class="mc_item_text2" id='data113'></div>
                            <div class="mc_item_text2" id='data114'></div>
                            <div class="mc_item_text2" id='data115'></div>
                        </div>
                        <div class='mc_title'>
                            <p>충전 시간</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data140'></div>
                        </div>
                    </div>
                    <div class="row2">
                        <div class='mc_title'>
                            <p>유지 속도</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data116'></div>
                            <div class="mc_item_text2" id='data117'></div>
                            <div class="mc_item_text2" id='data118'></div>
                            <div class="mc_item_text2" id='data119'></div>
                            <div class="mc_item_text2" id='data120'></div>
                        </div>
                        <div class='mc_title'>
                            <p>냉각 시간</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data141'></div>
                        </div>
                    </div>
                    <div class="row2">
                        <div class='mc_title'>
                            <p>충전 위치</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data121'></div>
                            <div class="mc_item_text2" id='data122'></div>
                            <div class="mc_item_text2" id='data123'></div>
                            <div class="mc_item_text2" id='data124'></div>
                        </div>
                        <div class='mc_title'>
                            <p>석백 위치</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data133'></div>
                            <div class="mc_item_text2" id='data134'></div>
                        </div>
                    </div>
                    <div class="row2">
                        <div class='mc_title'>
                            <p>충전 속도</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data125'></div>
                            <div class="mc_item_text2" id='data126'></div>
                            <div class="mc_item_text2" id='data127'></div>
                            <div class="mc_item_text2" id='data128'></div>
                        </div>
                        <div class='mc_title'>
                            <p>석백 속도</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data135'></div>
                            <div class="mc_item_text2" id='data136'></div>
                        </div>
                    </div>
                    <div class="row2">
                        <div class='mc_title'>
                            <p>SOV 시간</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data137'></div>
                        </div>
                        <div class='mc_title'>
                            <p>최대 스크류RPM</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data147'></div>
                        </div>
                    </div>
                    <div class="row2">
                        <div class='mc_title'>
                            <p>SOV 위치</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data138'></div>
                        </div>
                        <div class='mc_title'>
                            <p>평균 스크류RPM</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data148'></div>
                        </div>
                    </div>
                    <div class="row2">
                        <div class='mc_title'>
                            <p>백 프레셔</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data129'></div>
                            <div class="mc_item_text2" id='data130'></div>
                            <div class="mc_item_text2" id='data131'></div>
                            <div class="mc_item_text2" id='data132'></div>
                        </div>
                        <div class='mc_title'>
                            <p>CT</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data142'></div>
                        </div>
                    </div>
                    <div class="row2">
                        <div class='mc_title'>
                            <p>클램프 닫힘시간</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data143'></div>
                        </div>
                        <div class='mc_title'>
                            <p>쿠션 위치</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data144'></div>
                        </div>
                    </div>
                    <div class="row2">
                        <div class='mc_title'>
                            <p>클램프 열림위치</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data145'></div>
                        </div>
                        <div class='mc_title'>
                            <p>최대 사출스피드</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data146'></div>
                        </div>
                    </div>
                    <div class="row2">
                        <div class='mc_title'>
                            <p>최대 사출압력</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data149'></div>
                        </div>
                        <div class='mc_title'>
                            <p>최대 스위치압력</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data150'></div>
                        </div>
                    </div>
                    <div class="row2">
                        <div class='mc_title'>
                            <p>최대 복귀압력</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data151'></div>
                        </div>
                        <div class='mc_title'>
                            <p>평균 복귀압력</p>
                        </div>
                        <div class='mc_item2'>
                            <div class="mc_item_text2" id='data152'></div>
                        </div>
                    </div>

                </div>
            </div>
            <!-- /사출기 -->

            <div id="chart" class="chart" style="width: 779px; height: 300px"></div>

            <!-- 로봇 -->
            <!-- <div class="rb">
                <div class="title">로봇</div>
                <div class="rb_body">
                    <div>제품중량</div>
                    <div>제품온도</div>
                </div>
            </div> -->
            <!-- /로봇 -->
        </div>
        <!-- /화면 -->
    </div>

    <!-- 구글 차트 -->
    <!-- <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script> -->
    <!-- <script src="/js/dash-chart.js"></script> -->
    <script>
    var timerID;

    $(document).ready(function() {
        updateData();
    });


    function updateData() {
        $.ajax({
            url: "/php/dashboard.php",
            type: "post",
            cache: false,
            success: function(data) { // getvalue.php 파일에서 echo 결과값이 data 임

                var array = JSON.parse(data);
                //데이터 확인
                // console.log(array);

                let count = 1;
                let index = 0;
                for (; index < 153; index++) {
                    $('#data' + count + '').html(array['' + index + '']);
                    count++;
                }
                $('#data153').attr("src", '' + array[152] + '');

                var chart1 = c3.generate({
                    bindto: '#chart1',
                    data: {
                        columns: [
                            ['data1', array[153], array[161], array[169], array[177], array[185], array[193], array[201], array[209], array[217], array[225]],
                        ]
                    },
                    axis: {
                        x: {
                            show: false // X 축 숨기기
                        },
                        y: {
                            show: false // Y 축 숨기기
                        }
                    },
                    legend: {
                        show: false // 범례 숨기기
                    },
                    transition: {
                        duration: 0 // 애니메이션 지속 시간을 0으로 설정하여 깜빡거림 제거
                    }
                });

                var chart2 = c3.generate({
                    bindto: '#chart2',
                    data: {
                        columns: [
                            ['data2', array[154], array[162], array[170], array[178], array[186], array[194], array[202], array[210], array[218], array[226]],
                        ]
                    },
                    axis: {
                        x: {
                            show: false // X 축 숨기기
                        },
                        y: {
                            show: false // Y 축 숨기기
                        }
                    },
                    legend: {
                        show: false // 범례 숨기기
                    },
                    transition: {
                        duration: 0 // 애니메이션 지속 시간을 0으로 설정하여 깜빡거림 제거
                    }
                });

                var chart3 = c3.generate({
                    bindto: '#chart3',
                    data: {
                        columns: [
                            ['data3', array[155], array[163], array[171], array[179], array[187], array[195], array[203], array[211], array[219], array[227]],
                        ]
                    },
                    axis: {
                        x: {
                            show: false // X 축 숨기기
                        },
                        y: {
                            show: false // Y 축 숨기기
                        }
                    },
                    legend: {
                        show: false // 범례 숨기기
                    },
                    transition: {
                        duration: 0 // 애니메이션 지속 시간을 0으로 설정하여 깜빡거림 제거
                    }
                });

                var chart4 = c3.generate({
                    bindto: '#chart4',
                    data: {
                        columns: [
                            ['data4', array[156], array[164], array[172], array[180], array[188], array[196], array[204], array[212], array[220], array[228]],
                        ]
                    },
                    axis: {
                        x: {
                            show: false // X 축 숨기기
                        },
                        y: {
                            show: false // Y 축 숨기기
                        }
                    },
                    legend: {
                        show: false // 범례 숨기기
                    },
                    transition: {
                        duration: 0 // 애니메이션 지속 시간을 0으로 설정하여 깜빡거림 제거
                    }
                });

                var chart5 = c3.generate({
                    bindto: '#chart5',
                    data: {
                        columns: [
                            ['data5', array[157], array[165], array[173], array[181], array[189], array[197], array[205], array[213], array[221], array[229]],
                        ]
                    },
                    axis: {
                        x: {
                            show: false // X 축 숨기기
                        },
                        y: {
                            show: false // Y 축 숨기기
                        }
                    },
                    legend: {
                        show: false // 범례 숨기기
                    },
                    transition: {
                        duration: 0 // 애니메이션 지속 시간을 0으로 설정하여 깜빡거림 제거
                    }
                });

                var chart6 = c3.generate({
                    bindto: '#chart6',
                    data: {
                        columns: [
                            ['data6', array[158], array[166], array[174], array[182], array[190], array[198], array[206], array[214], array[222], array[230]],
                        ]
                    },
                    axis: {
                        x: {
                            show: false // X 축 숨기기
                        },
                        y: {
                            show: false // Y 축 숨기기
                        }
                    },
                    legend: {
                        show: false // 범례 숨기기
                    },
                    transition: {
                        duration: 0 // 애니메이션 지속 시간을 0으로 설정하여 깜빡거림 제거
                    }
                });

                var chart7 = c3.generate({
                    bindto: '#chart7',
                    data: {
                        columns: [
                            ['data7', array[159], array[167], array[175], array[183], array[191], array[199], array[207], array[215], array[223], array[231]],
                        ]
                    },
                    axis: {
                        x: {
                            show: false // X 축 숨기기
                        },
                        y: {
                            show: false // Y 축 숨기기
                        }
                    },
                    legend: {
                        show: false // 범례 숨기기
                    },
                    transition: {
                        duration: 0 // 애니메이션 지속 시간을 0으로 설정하여 깜빡거림 제거
                    }
                });

                var chart8 = c3.generate({
                    bindto: '#chart8',
                    data: {
                        columns: [
                            ['data8', array[160], array[168], array[176], array[184], array[192], array[200], array[208], array[216], array[224], array[232]],
                        ]
                    },
                    axis: {
                        x: {
                            show: false // X 축 숨기기
                        },
                        y: {
                            show: false // Y 축 숨기기
                        }
                    },
                    legend: {
                        show: false // 범례 숨기기
                    },
                    transition: {
                        duration: 0 // 애니메이션 지속 시간을 0으로 설정하여 깜빡거림 제거
                    }
                });
            }

        });
        timerID = setTimeout("updateData()", 5000); // 1초 단위로 갱신 처리

    }
    </script>
</body>

</html>